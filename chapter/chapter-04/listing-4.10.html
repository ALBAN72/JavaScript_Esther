<!DOCTYPE html>
<html>
<head>
  <title>Binding a specific context to a function</title>
  <meta charset="utf-8">
  <script src="../assert.js"></script>
  <link rel="stylesheet" type="text/css" href="../assert.css">
</head>
<body>
	<button id="test">Click Me!</button>
  <script>
    function Button(){
      this.clicked = false;
      this.click = function(n=0) {
        console.log("n : ", n);
        console.log("this : ", this);

        assert(this == window, "In arrow function this == window");
        assert(window.clicked, "clicked is stored in window");
        assert(button.clicked, "The button has been clicked");

      }
    }


    var button = new Button();

    console.log("j'ex√©cute button click avant de faire le addEventListener");
    button.click(1);

    var elem = document.getElementById("test");
    //elem.addEventListener("click", button.click);
    elem.addEventListener("click", button.click);



  </script>
</body>
</html>
