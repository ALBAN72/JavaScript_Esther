<!DOCTYPE html>
<html>

<head>
  <title>Constructors returning primitive values</title>
  <meta charset="utf-8">
  <script src="../assert.js"></script>
  <link rel="stylesheet" type="text/css" href="../assert.css">
</head>
<body>
	<script>
    function Ninja() {
      console.log("le this dans la function: ", this);
      this.skulk = function () {
      return true;
    };

    return 1;
  }

    console.log("sans new  : ");
    console.log("typeof Ninja() : ", typeof Ninja);
    console.log("Ninja() : ",  Ninja());

  assert(Ninja() === 1,
    "Return value honored when not called as a constructor");

  var ninja = new Ninja();

    console.log("Avec new  : ");
    console.log("typeof ninja : ", typeof ninja);
    console.log("ninja : ",  ninja);

  assert(typeof ninja === "object",
    "Object returned when called as a constructor");
  assert(typeof ninja.skulk === "function",
    "ninja object has a skulk method");
	</script>
</body>
</html>
